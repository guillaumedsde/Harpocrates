# OpenAPI generated server

## Overview

This server was generated by the [OpenAPI Generator](https://openapi-generator.tech) project. By using the
[OpenAPI-Spec](https://openapis.org) from a remote server, you can easily generate a server stub. This
is an example of building a OpenAPI-enabled Flask server.

This example uses the [Connexion](https://github.com/zalando/connexion) library on top of Flask.

### Generate the Flask API Server code

The Flask API server code is also derived from the OpenAPI generator code, however, some files are protected from "auto generation overwrite" this list is in `api/.openapi-generator-ignore`. As such, some manual modification of these files might be required after code generation which is run from the project root with the following command **after having installed the [OpenAPI code generator](https://github.com/OpenAPITools/openapi-generator)**:

```bash
make api-server
```

## Requirements

Python 3.7.x

## Usage

To run the server, please execute the following from the root directory:

```
pipenv install
pipenv shell
python -m harpocrates_server
```

and open your browser to here:

```
http://localhost:8080/v1/ui/
```

Your OpenAPI definition lives here:

```
http://localhost:8080/v1/openapi.json
```

To launch the integration tests, use tox:

```
pipenv install --dev
pipenv shell
tox
```

## Running with Docker

To run the **development** server on a Docker container, please execute the following from the root directory:

```bash
# building the image
docker build -t harpocrates_server .

# starting up a container
docker run -p 8080:8080 harpocrates_server
```
